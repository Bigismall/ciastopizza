<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>Ciasto Pizza</title>
  <meta name="viewport"
        content="width=device-width, initial-scale=1">
  <meta name="description"
        content="Podstawowy przepis na ciasto do pizzy">
  <meta name="author"
        content="bigismall.com">
  <link rel="icon"
        type="image/png"
        sizes="32x32"
        href="/fav/favicon-32x32.png">
  <link rel="icon"
        type="image/png"
        sizes="16x16"
        href="/fav/favicon-16x16.png">
  <link rel="shortcut icon"
        href="/fav/favicon.ico">
  <meta name="theme-color"
        content="#e3361c">
  <link rel="stylesheet"
        href="css/ciastopizza.css?v=1.0">
</head>

<body>
<article>
  <h2>Kalkulator pizzy</h2>
  <form name="pizza-form"
        id="pizza-form">
    <fieldset>
      <legend>Rodzaj pizzy</legend>
      <input type="radio"
             name="pizza-type"
             id="pizza-type-neapolitan"
             value="0"
             checked>
      <label for="pizza-type-neapolitan">Neapolitan</label>
      <input type="radio"
             name="pizza-type"
             id="pizza-type-american"
             value="1">
      <label for="pizza-type-american">American</label>
      <input type="radio"
             name="pizza-type"
             id="pizza-type-sicilian"
             value="2">
      <label for="pizza-type-sicilian">Sicilian</label>
    </fieldset>
    <fieldset>
      <legend>Ilość pizzy</legend>
      <label for="pizza-amount"
             id="pizza-amount-label">1
      </label>
      <input type="range"
             min="1"
             max="10"
             step="1"
             value="1"
             name="pizza-amount"
             id="pizza-amount">
    </fieldset>
    <fieldset>
      <legend>Składniki</legend>
      <ul class="ingredient">
        <li class="ingredient__item">Mąka
          <div id="ingredient-flour"></div>
        </li>
        <li class="ingredient__item">Woda
          <div id="ingredient-water"></div>
        </li>
        <li class="ingredient__item">Drożdże
          <div id="ingredient-yeast"></div>
        </li>
        <li class="ingredient__item">Cukier
          <div id="ingredient-sugar"></div>
        </li>
        <li class="ingredient__item">Sól
          <div id="ingredient-salt"></div>
        </li>
        <li class="ingredient__item">Oliwa
          <div id="ingredient-oil"></div>
        </li>
      </ul>
    </fieldset>
  </form>
</article>
<hr/>
<aside>
  <h2>Podstawowy przepis na ciasto do pizzy</h2>
  <dl class="recipe">
    <dt>Mąka</dt>
    <dd>100%</dd>
    <dt>Woda</dt>
    <dd>65%</dd>
    <dt>Drożdże suche (świeże)</dt>
    <dd>1% (3%)</dd>
    <dt>Sól</dt>
    <dd>2%</dd>
    <dt>Cukier</dt>
    <dd>2%</dd>
    <dt>Oliwa</dt>
    <dd>1%</dd>
  </dl>
</aside>
<hr/>
<article>
  <h2>Rodzaje pizzy</h2>
  <blockquote cite="https://pl.wikipedia.org/wiki/Pizza">
    <p>Istnieje wiele odmian pizzy z licznymi dodatkami, którymi mogą być, m.in., pieczarki, cebula, pomidory, oliwki, ananas, wędlina, owoce morza, a nawet
      słodkie owoce i sosy.</p>
    <dl>
      <dt>Pizza neapolitańska (pizza napoletana)</dt>
      <dd><p>Oryginalna pizza neapolitańska jest wytwarzana z lokalnych składników takich jak pomidory San Marzano, które rosną na polach wulkanicznych na
        południe od Wezuwiusza, i mozzarelli z mleka bawolic (mozzarella di bufala campana).</p>
        <p>Zgodnie z zasadami wytwarzania tego gatunku pizzy, mąka musi być typu 00 (ewentualnie z domieszką mąki typu 0).Pozostałymi składnikami ciasta są:
          drożdże piwne, woda pitna, sól (morska lub kuchenna), oliwa.</p>
        <p>Ciasto powinno być wyrabiane ręcznie lub z użyciem wolnoobrotowego miksera. Gdy ciasto wyrośnie, powinno zostać uformowane tylko rękami, bez użycia
          wałka lub innych przyrządów mechanicznych.</p>
        <p>Pizza musi być przygotowywana w piecu opalanym drewnem. Może mieć grubość ok. 0,4 cm w środku i brzegi wysokości 1-2 cm. Po wypieczeniu powinna być
          chrupiąca, krucha i aromatyczna, o charakterystycznie przyrumienionych brzegach.</p>
        <p>W 2009 r. pizza &quot;neapolitańska&quot; została zastrzeżona przez Komisję Europejską jako wyrób tradycyjny z certyfikatem TSG. Pizza neapolitańska
          tradycyjnie występuje w trzech wariantach:</p>
        <ul>
          <li>Marinara, zawierająca pomidory, czosnek, oregano i oliwę</li>
          <li>Margherita, zawierająca pomidory, plasterki mozzarelli, bazylię oraz oliwę</li>
          <li>Margherita extra, która zawiera pomidory, mozzarellę z Campanii (w okrągłych plasterkach), bazylię oraz oliwę z pierwszego tłoczenia</li>
        </ul>
      </dd>
      <dt>Pizza sycylijska</dt>
      <dd>Zazwyczaj prostokątna, ser ukryty jest pod sosem, zawiera niewiele dodatków. We Włoszech nazywana sfincione.</dd>
      <dt>Pizza capricciosa</dt>
      <dd>Ze składnikami: ser mozzarella, pieczona szynka, grzyby (m.in. pieczarki), karczochy i pomidory w niektórych wersjach pizzy są stosowane takie
        składniki, jak szynka parmeńska, oliwa z oliwek, oliwki, bazylia czy jaja
      </dd>
    </dl>
  </blockquote>
</article>
<script type="module">

  function calculatePizza (type, amount) {
    const hundredPercentFlour = 165;    //grams
    const flour = Math.ceil(hundredPercentFlour * amount);
    const water = Math.ceil(0.65 * flour);
    const yeast = Math.ceil(0.01 * flour);
    const sugar = Math.ceil(0.02 * flour);
    const salt = Math.ceil(0.02 * flour);
    const oil = Math.ceil(0.01 * flour);   //1 milliliter of oil weighs 0.947 gram. -  I assume they are equal

    return [flour, water, yeast, sugar, salt, oil];
  }

  function displayRecipe () {
    const [flour, water, yeast, sugar, salt, oil] = calculatePizza($pizzaType.value, $pizzaAmount.value);

    $ingredientFlour.innerHTML = `${flour}g`;
    $ingredientWater.innerHTML = `${water}g`;
    $ingredientYeast.innerHTML = `${yeast}g`;
    $ingredientSugar.innerHTML = `${sugar}g`;
    $ingredientSalt.innerHTML = `${salt}g`;
    $ingredientOil.innerHTML = `${oil}ml`;
  }

  const $pizzaForm = document.querySelector("#pizza-form");
  const $pizzaType = document.querySelector("input[name=pizza-type]:checked");
  const $pizzaAmount = document.querySelector("#pizza-amount");
  const $pizzaAmountLabel = document.querySelector("#pizza-amount-label");

  const $ingredientFlour = document.querySelector("#ingredient-flour");
  const $ingredientWater = document.querySelector("#ingredient-water");
  const $ingredientYeast = document.querySelector("#ingredient-yeast");
  const $ingredientSugar = document.querySelector("#ingredient-sugar");
  const $ingredientSalt = document.querySelector("#ingredient-salt");
  const $ingredientOil = document.querySelector("#ingredient-oil");

  if (!($pizzaForm && $pizzaType && $pizzaAmount && $pizzaAmountLabel && $ingredientFlour && $ingredientWater && $ingredientYeast && $ingredientSugar && $ingredientSalt && $ingredientOil)) {
    throw "Missing input field";
  }

  $pizzaAmount.addEventListener("input", () => {
    $pizzaAmountLabel.innerHTML = $pizzaAmount.value;
  });

  $pizzaForm.addEventListener("input", displayRecipe);

  displayRecipe();

</script>
</body>
</html>